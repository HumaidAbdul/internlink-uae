{"ast":null,"code":"// src/pages/UserProfile.jsx\nimport React,{useEffect,useState,useMemo}from'react';import{useNavigate,Link}from'react-router-dom';import api from'../lib/api';import ChangePassword from'./ChangePassword';// Base URL (strip trailing /api and slashes)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_ORIGIN=(process.env.REACT_APP_API_BASE||'http://localhost:5001').replace(/\\/api\\/?$/i,'').replace(/\\/+$/,'');// Inline SVG fallback avatar (no external request)\nconst FALLBACK_AVATAR=\"data:image/svg+xml;utf8,\"+encodeURIComponent(\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"80\\\" height=\\\"80\\\" viewBox=\\\"0 0 80 80\\\">\\n       <rect width=\\\"80\\\" height=\\\"80\\\" rx=\\\"40\\\" fill=\\\"#f3f4f6\\\"/>\\n       <circle cx=\\\"40\\\" cy=\\\"32\\\" r=\\\"14\\\" fill=\\\"#d1d5db\\\"/>\\n       <path d=\\\"M20 60c0-10 20-10 20-10s20 0 20 10v4H20z\\\" fill=\\\"#d1d5db\\\"/>\\n     </svg>\");// Turn whatever DB stores into a valid URL\nconst fileUrl=rel=>{if(!rel)return null;// External URLs (Drive/S3) untouched\nif(/^https?:\\/\\//i.test(rel))return String(rel).trim();// Remove accidental origin, fix slashes, trim\nlet p=String(rel).trim().replace(/^https?:\\/\\/[^/]+/i,'').replace(/\\\\/g,'/').replace(/^\\/+/,'');// Ensure uploads/ prefix\nif(!/^uploads\\//i.test(p))p=\"uploads/\".concat(p);return\"\".concat(API_ORIGIN,\"/\").concat(p);};export default function UserProfile(){var _fileUrl;const nav=useNavigate();const[profile,setProfile]=useState(null);const[apps,setApps]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{let on=true;(async()=>{try{var _pRes$data,_aRes$data;const[pRes,aRes]=await Promise.all([api.get('/api/student/dashboard'),api.get('/api/student/applications')]);if(!on)return;setProfile((pRes===null||pRes===void 0?void 0:(_pRes$data=pRes.data)===null||_pRes$data===void 0?void 0:_pRes$data.profile)||(pRes===null||pRes===void 0?void 0:pRes.data)||null);const arr=Array.isArray(aRes===null||aRes===void 0?void 0:(_aRes$data=aRes.data)===null||_aRes$data===void 0?void 0:_aRes$data.applications)?aRes.data.applications:(aRes===null||aRes===void 0?void 0:aRes.data)||[];setApps(arr);}catch(e){console.error(e);}finally{if(on)setLoading(false);}})();return()=>{on=false;};},[]);const totalApplied=apps.length;const totalApproved=useMemo(()=>apps.filter(a=>String(a.status||'').toLowerCase().includes('approve')).length,[apps]);if(loading)return null;if(!profile)return/*#__PURE__*/_jsx(\"div\",{className:\"sd card\",children:\"Couldn\\u2019t load your profile.\"});const photo=fileUrl(profile.profile_image);const cv=(_fileUrl=fileUrl(profile.cv_link))===null||_fileUrl===void 0?void 0:_fileUrl.replace('http://localhost:5000','http://localhost:5001');const handleImgError=e=>{// prevent infinite error loops\ne.currentTarget.onerror=null;e.currentTarget.src=FALLBACK_AVATAR;};return/*#__PURE__*/_jsxs(\"div\",{className:\"sd\",children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n        .sd{ --bg:#f5f7fb; --card:#fff; --br:#e6e8ee; --ink:#0b1020; --muted:#6b7280; --brand:#2563eb; --ok:#16a34a; --warn:#eab308; --bad:#dc2626;\\n              min-height:100svh; background:var(--bg); color:var(--ink); font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; }\\n        .sd .wrap{ max-width:1150px; margin:24px auto; padding:0 16px; }\\n\\n        .sd .top{ display:grid; gap:16px; grid-template-columns:1fr; }\\n        @media (min-width:970px){ .sd .top{ grid-template-columns: 1.2fr 1fr 1fr; } }\\n\\n        .sd .card{ background:var(--card); border:1px solid var(--br); border-radius:12px; box-shadow:0 10px 22px rgba(25,35,60,.05); }\\n        .sd .p6{ padding:16px; }\\n        .sd .row{ display:flex; align-items:center; gap:14px; }\\n        .sd .avatar{ width:64px; height:64px; border-radius:50%; object-fit:cover; border:1px solid var(--br); background:#f3f4f6; }\\n\\n        .sd .title{ margin:0; font-weight:700; font-size:18px; }\\n        .sd .muted{ color:var(--muted); font-size:14px; }\\n\\n        .sd .btn{ display:inline-block; padding:8px 12px; border-radius:10px; border:1px solid #cdd5ea; background:#fff; font-weight:600; cursor:pointer; }\\n        .sd .btnPrimary{ background:var(--brand); color:#fff; border-color:transparent; }\\n        .sd .btnSmall{ padding:6px 10px; font-size:14px; color: black }\\n\\n        .sd .kpi{ display:flex; align-items:center; justify-content:center; gap:10px; min-height:92px; }\\n        .sd .kpi .num{ font-size:28px; font-weight:800; }\\n        .sd .kpi .label{ color:var(--muted); font-weight:600; }\\n\\n        .sd .section{ margin-top:18px; }\\n        .sd .sectionTitle{ display:flex; align-items:center; justify-content:space-between; margin:0 0 8px; font-size:16px; font-weight:700; }\\n\\n        /* Table */\\n        .sd .tblWrap{ background:var(--card); border:1px solid var(--br); border-radius:12px; box-shadow:0 10px 22px rgba(25,35,60,.05); overflow:auto; }\\n        .sd table{ width:100%; border-collapse:separate; border-spacing:0; }\\n        .sd thead th{ text-align:left; font-size:13px; color:var(--muted); font-weight:700; padding:12px 14px; border-bottom:1px solid var(--br); white-space:nowrap; background:#fafbff; }\\n        .sd tbody td{ padding:12px 14px; border-bottom:1px solid var(--br); font-size:14px; }\\n        .sd tbody tr:last-child td{ border-bottom:0; }\\n\\n        .sd .badge{ display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; font-weight:700; font-size:12px; }\\n        .sd .b-ok{ background:#e8f7ee; color:#166534; }\\n        .sd .b-warn{ background:#fff7db; color:#854d0e; }\\n        .sd .b-bad{ background:#fee2e2; color:#7f1d1d; }\\n        .sd .view{ color:var(--brand); text-decoration:none; font-weight:600; }\\n        .sd .view:hover{ text-decoration:underline; }\\n      \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"card p6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"avatar\",src:photo||FALLBACK_AVATAR,alt:\"User avatar\",onError:handleImgError}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:profile.name}),/*#__PURE__*/_jsx(\"div\",{className:\"muted\",style:{marginBottom:6},children:profile.email}),/*#__PURE__*/_jsxs(\"div\",{className:\"muted\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"University:\"}),\" \",profile.university||'â€”']}),/*#__PURE__*/_jsxs(\"div\",{className:\"muted\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Major:\"}),\" \",profile.major||'â€”']})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10,display:'flex',gap:8,flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btnSmall\",onClick:()=>nav('/profile/student/edit'),children:\"Edit Profile\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btnSmall\",onClick:()=>nav('/profile/student/password'),children:\"Change Password\"}),profile.cv_link&&/*#__PURE__*/_jsx(\"a\",{className:\"btn btnPrimary btnSmall\",href:cv,target:\"_blank\",rel:\"noreferrer\",children:\"View CV\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"card p6 kpi\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"num\",children:totalApplied}),/*#__PURE__*/_jsx(\"div\",{className:\"label\",children:\"Applied\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"card p6 kpi\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"num\",children:totalApproved}),/*#__PURE__*/_jsx(\"div\",{className:\"label\",children:\"Approved\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sectionTitle\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDD0E Applied Internships\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"tblWrap\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Applied\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rejection reason\"}),/*#__PURE__*/_jsx(\"th\",{children:\"View\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:apps.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",className:\"muted\",children:\"No applications yet.\"})}):apps.map(a=>{const status=String(a.status||'').toLowerCase();const badgeClass=status.includes('approve')?'b-ok':status.includes('pend')?'b-warn':'b-bad';return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:a.title})}),/*#__PURE__*/_jsx(\"td\",{children:a.location||'â€”'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(badgeClass),children:a.status||'â€”'})}),/*#__PURE__*/_jsx(\"td\",{children:a.applied_at?new Date(a.applied_at).toLocaleDateString():'â€”'}),/*#__PURE__*/_jsx(\"td\",{children:a.rejection_reason||'â€”'}),/*#__PURE__*/_jsx(\"td\",{children:a.internship_id?/*#__PURE__*/_jsx(Link,{className:\"view\",to:\"/internships/\".concat(a.internship_id),children:\"View\"}):/*#__PURE__*/_jsx(\"span\",{className:\"muted\",children:\"\\u2014\"})})]},a.application_id||a.id);})})]})})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useMemo","useNavigate","Link","api","ChangePassword","jsx","_jsx","jsxs","_jsxs","API_ORIGIN","process","env","REACT_APP_API_BASE","replace","FALLBACK_AVATAR","encodeURIComponent","fileUrl","rel","test","String","trim","p","concat","UserProfile","_fileUrl","nav","profile","setProfile","apps","setApps","loading","setLoading","on","_pRes$data","_aRes$data","pRes","aRes","Promise","all","get","data","arr","Array","isArray","applications","e","console","error","totalApplied","length","totalApproved","filter","a","status","toLowerCase","includes","className","children","photo","profile_image","cv","cv_link","handleImgError","currentTarget","onerror","src","alt","onError","name","style","marginBottom","email","university","major","marginTop","display","gap","flexWrap","onClick","href","target","colSpan","map","badgeClass","title","location","applied_at","Date","toLocaleDateString","rejection_reason","internship_id","to","application_id","id"],"sources":["C:/Users/humai/Downloads/internlink-uaeA/internlink-uae/frontend/src/pages/UserProfile.jsx"],"sourcesContent":["// src/pages/UserProfile.jsx\r\nimport React, { useEffect, useState, useMemo } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport api from '../lib/api';\r\n\r\nimport ChangePassword from './ChangePassword';\r\n\r\n// Base URL (strip trailing /api and slashes)\r\nconst API_ORIGIN = (process.env.REACT_APP_API_BASE || 'http://localhost:5001')\r\n  .replace(/\\/api\\/?$/i, '')\r\n  .replace(/\\/+$/, '');\r\n\r\n// Inline SVG fallback avatar (no external request)\r\nconst FALLBACK_AVATAR =\r\n  \"data:image/svg+xml;utf8,\" +\r\n  encodeURIComponent(\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"80\" height=\"80\" viewBox=\"0 0 80 80\">\r\n       <rect width=\"80\" height=\"80\" rx=\"40\" fill=\"#f3f4f6\"/>\r\n       <circle cx=\"40\" cy=\"32\" r=\"14\" fill=\"#d1d5db\"/>\r\n       <path d=\"M20 60c0-10 20-10 20-10s20 0 20 10v4H20z\" fill=\"#d1d5db\"/>\r\n     </svg>`\r\n  );\r\n\r\n// Turn whatever DB stores into a valid URL\r\nconst fileUrl = (rel) => {\r\n  if (!rel) return null;\r\n  // External URLs (Drive/S3) untouched\r\n  if (/^https?:\\/\\//i.test(rel)) return String(rel).trim();\r\n\r\n  // Remove accidental origin, fix slashes, trim\r\n  let p = String(rel).trim()\r\n    .replace(/^https?:\\/\\/[^/]+/i, '')\r\n    .replace(/\\\\/g, '/')\r\n    .replace(/^\\/+/, '');\r\n\r\n  // Ensure uploads/ prefix\r\n  if (!/^uploads\\//i.test(p)) p = `uploads/${p}`;\r\n\r\n  return `${API_ORIGIN}/${p}`;\r\n};\r\n\r\nexport default function UserProfile() {\r\n  const nav = useNavigate();\r\n  const [profile, setProfile] = useState(null);\r\n  const [apps, setApps] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    let on = true;\r\n    (async () => {\r\n      try {\r\n        const [pRes, aRes] = await Promise.all([\r\n          api.get('/api/student/dashboard'),\r\n          api.get('/api/student/applications'),\r\n        ]);\r\n        if (!on) return;\r\n        setProfile(pRes?.data?.profile || pRes?.data || null);\r\n        const arr = Array.isArray(aRes?.data?.applications)\r\n          ? aRes.data.applications\r\n          : (aRes?.data || []);\r\n        setApps(arr);\r\n      } catch (e) {\r\n        console.error(e);\r\n      } finally {\r\n        if (on) setLoading(false);\r\n      }\r\n    })();\r\n    return () => { on = false; };\r\n  }, []);\r\n\r\n  const totalApplied  = apps.length;\r\n  const totalApproved = useMemo(\r\n    () => apps.filter(a => String(a.status || '').toLowerCase().includes('approve')).length,\r\n    [apps]\r\n  );\r\n\r\n  if (loading) return null;\r\n  if (!profile) return <div className=\"sd card\">Couldnâ€™t load your profile.</div>;\r\n\r\n  const photo = fileUrl(profile.profile_image);\r\n\r\n const cv = fileUrl(profile.cv_link)?.replace('http://localhost:5000', 'http://localhost:5001');\r\n\r\n\r\n  const handleImgError = (e) => {\r\n    // prevent infinite error loops\r\n    e.currentTarget.onerror = null;\r\n    e.currentTarget.src = FALLBACK_AVATAR;\r\n  };\r\n\r\n  return (\r\n    <div className=\"sd\">\r\n      {/* page-scoped styles */}\r\n      <style>{`\r\n        .sd{ --bg:#f5f7fb; --card:#fff; --br:#e6e8ee; --ink:#0b1020; --muted:#6b7280; --brand:#2563eb; --ok:#16a34a; --warn:#eab308; --bad:#dc2626;\r\n              min-height:100svh; background:var(--bg); color:var(--ink); font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; }\r\n        .sd .wrap{ max-width:1150px; margin:24px auto; padding:0 16px; }\r\n\r\n        .sd .top{ display:grid; gap:16px; grid-template-columns:1fr; }\r\n        @media (min-width:970px){ .sd .top{ grid-template-columns: 1.2fr 1fr 1fr; } }\r\n\r\n        .sd .card{ background:var(--card); border:1px solid var(--br); border-radius:12px; box-shadow:0 10px 22px rgba(25,35,60,.05); }\r\n        .sd .p6{ padding:16px; }\r\n        .sd .row{ display:flex; align-items:center; gap:14px; }\r\n        .sd .avatar{ width:64px; height:64px; border-radius:50%; object-fit:cover; border:1px solid var(--br); background:#f3f4f6; }\r\n\r\n        .sd .title{ margin:0; font-weight:700; font-size:18px; }\r\n        .sd .muted{ color:var(--muted); font-size:14px; }\r\n\r\n        .sd .btn{ display:inline-block; padding:8px 12px; border-radius:10px; border:1px solid #cdd5ea; background:#fff; font-weight:600; cursor:pointer; }\r\n        .sd .btnPrimary{ background:var(--brand); color:#fff; border-color:transparent; }\r\n        .sd .btnSmall{ padding:6px 10px; font-size:14px; color: black }\r\n\r\n        .sd .kpi{ display:flex; align-items:center; justify-content:center; gap:10px; min-height:92px; }\r\n        .sd .kpi .num{ font-size:28px; font-weight:800; }\r\n        .sd .kpi .label{ color:var(--muted); font-weight:600; }\r\n\r\n        .sd .section{ margin-top:18px; }\r\n        .sd .sectionTitle{ display:flex; align-items:center; justify-content:space-between; margin:0 0 8px; font-size:16px; font-weight:700; }\r\n\r\n        /* Table */\r\n        .sd .tblWrap{ background:var(--card); border:1px solid var(--br); border-radius:12px; box-shadow:0 10px 22px rgba(25,35,60,.05); overflow:auto; }\r\n        .sd table{ width:100%; border-collapse:separate; border-spacing:0; }\r\n        .sd thead th{ text-align:left; font-size:13px; color:var(--muted); font-weight:700; padding:12px 14px; border-bottom:1px solid var(--br); white-space:nowrap; background:#fafbff; }\r\n        .sd tbody td{ padding:12px 14px; border-bottom:1px solid var(--br); font-size:14px; }\r\n        .sd tbody tr:last-child td{ border-bottom:0; }\r\n\r\n        .sd .badge{ display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; font-weight:700; font-size:12px; }\r\n        .sd .b-ok{ background:#e8f7ee; color:#166534; }\r\n        .sd .b-warn{ background:#fff7db; color:#854d0e; }\r\n        .sd .b-bad{ background:#fee2e2; color:#7f1d1d; }\r\n        .sd .view{ color:var(--brand); text-decoration:none; font-weight:600; }\r\n        .sd .view:hover{ text-decoration:underline; }\r\n      `}</style>\r\n\r\n      <div className=\"wrap\">\r\n        {/* TOP ROW */}\r\n        <div className=\"top\">\r\n          {/* Profile card */}\r\n          <section className=\"card p6\">\r\n            <div className=\"row\">\r\n              <img\r\n                className=\"avatar\"\r\n                src={photo || FALLBACK_AVATAR}\r\n                alt=\"User avatar\"\r\n                onError={handleImgError}\r\n              />\r\n              <div>\r\n                <h2 className=\"title\">{profile.name}</h2>\r\n                <div className=\"muted\" style={{marginBottom:6}}>{profile.email}</div>\r\n                <div className=\"muted\"><strong>University:</strong> {profile.university || 'â€”'}</div>\r\n                <div className=\"muted\"><strong>Major:</strong> {profile.major || 'â€”'}</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{marginTop:10, display:'flex', gap:8, flexWrap:'wrap'}}>\r\n              <button className=\"btn btnSmall\" onClick={() => nav('/profile/student/edit')}>Edit Profile</button>\r\n              <button className='btn btnSmall' onClick={() => nav('/profile/student/password')}>Change Password</button>\r\n              {profile.cv_link && (\r\n                <a className=\"btn btnPrimary btnSmall\" href={cv} target=\"_blank\" rel=\"noreferrer\">View CV</a>\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          {/* KPI: Applied */}\r\n          <section className=\"card p6 kpi\">\r\n            <div className=\"num\">{totalApplied}</div>\r\n            <div className=\"label\">Applied</div>\r\n          </section>\r\n\r\n          {/* KPI: Approved */}\r\n          <section className=\"card p6 kpi\">\r\n            <div className=\"num\">{totalApproved}</div>\r\n            <div className=\"label\">Approved</div>\r\n          </section>\r\n        </div>\r\n\r\n        {/* APPLIED TABLE */}\r\n        <div className=\"section\">\r\n          <div className=\"sectionTitle\">\r\n            <span>ðŸ”Ž Applied Internships</span>\r\n          </div>\r\n\r\n          <div className=\"tblWrap\">\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Title</th>\r\n                  <th>Location</th>\r\n                  <th>Status</th>\r\n                  <th>Applied</th>\r\n                  <th>Rejection reason</th>\r\n                  <th>View</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {apps.length === 0 ? (\r\n                  <tr><td colSpan=\"6\" className=\"muted\">No applications yet.</td></tr>\r\n                ) : (\r\n                  apps.map(a => {\r\n                    const status = String(a.status || '').toLowerCase();\r\n                    const badgeClass =\r\n                      status.includes('approve') ? 'b-ok' :\r\n                      status.includes('pend')    ? 'b-warn' : 'b-bad';\r\n                    return (\r\n                      <tr key={a.application_id || a.id}>\r\n                        <td><strong>{a.title}</strong></td>\r\n                        <td>{a.location || 'â€”'}</td>\r\n                        <td>\r\n                          <span className={`badge ${badgeClass}`}>\r\n                            {a.status || 'â€”'}\r\n                          </span>\r\n                        </td>\r\n                        <td>{a.applied_at ? new Date(a.applied_at).toLocaleDateString() : 'â€”'}</td>\r\n                        <td>{a.rejection_reason || 'â€”'}</td>\r\n                        <td>\r\n                          {a.internship_id ? (\r\n                            <Link className=\"view\" to={`/internships/${a.internship_id}`}>View</Link>\r\n                          ) : (\r\n                            <span className=\"muted\">â€”</span>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}