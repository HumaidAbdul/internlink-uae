{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import api from\"../lib/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminUserDetails(){const{id}=useParams();const navigate=useNavigate();const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const loadUser=async()=>{try{// ✅ تأكدي أن عندك راوت في الباك إند: GET /api/admin/users/:id\nconst res=await api.get(\"/api/admin/users/\".concat(id));setUser(res.data||res);}catch(err){console.error(err);}finally{setLoading(false);}};loadUser();},[id]);const badgeStyle=status=>{if(!status)return{};switch(status.toLowerCase()){case\"approved\":case\"active\":return{background:\"#DCFCE7\",color:\"#166534\"};case\"rejected\":case\"blocked\":return{background:\"#FEE2E2\",color:\"#991B1B\"};case\"pending\":default:return{background:\"#FEF9C3\",color:\"#854D0E\"};}};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{padding:\"40px\",textAlign:\"center\"},children:\"Loading user details...\"});}if(!user){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"40px\",textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"p\",{children:\"User not found.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),children:\"Back\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"user-details-page\",children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n        .user-details-page{\\n          max-width: 900px;\\n          margin: 30px auto;\\n          padding: 0 16px 40px;\\n          font-family: system-ui, -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\";\\n        }\\n        .ud-header{\\n          display:flex;\\n          justify-content:space-between;\\n          align-items:center;\\n          margin-bottom:20px;\\n        }\\n        .ud-header h1{\\n          font-size:24px;\\n          font-weight:700;\\n          margin:0;\\n        }\\n        .ud-back{\\n          border:none;\\n          background:none;\\n          color:#1e3a8a;\\n          cursor:pointer;\\n          font-size:15px;\\n        }\\n        .ud-card{\\n          background:#fff;\\n          border-radius:16px;\\n          padding:20px 22px 22px;\\n          box-shadow:0 18px 45px rgba(15,23,42,.06);\\n        }\\n        .ud-top{\\n          display:flex;\\n          justify-content:space-between;\\n          align-items:center;\\n          margin-bottom:18px;\\n          gap:12px;\\n          flex-wrap:wrap;\\n        }\\n        .ud-name{\\n          font-size:20px;\\n          font-weight:600;\\n          margin-bottom:4px;\\n        }\\n        .ud-muted{\\n          color:#6b7280;\\n          font-size:14px;\\n        }\\n        .ud-status{\\n          padding:6px 14px;\\n          border-radius:999px;\\n          font-size:13px;\\n          font-weight:600;\\n        }\\n        .ud-section-title{\\n          margin-top:10px;\\n          margin-bottom:8px;\\n          font-size:16px;\\n          font-weight:600;\\n        }\\n        .ud-info-box{\\n          background:#f9fafb;\\n          border-radius:12px;\\n          border:1px solid #e5e7eb;\\n          padding:10px 12px;\\n        }\\n        .ud-row{\\n          display:flex;\\n          justify-content:space-between;\\n          gap:10px;\\n          padding:6px 0;\\n          border-bottom:1px dashed #e5e7eb;\\n          font-size:14px;\\n        }\\n        .ud-row:last-child{\\n          border-bottom:none;\\n        }\\n        .ud-label{\\n          font-weight:600;\\n          color:#374151;\\n        }\\n        .ud-value{\\n          color:#111827;\\n          text-align:right;\\n        }\\n      \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ud-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"ud-back\",onClick:()=>navigate(-1),children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"User Details\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ud-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ud-top\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"ud-name\",children:user.name}),/*#__PURE__*/_jsx(\"div\",{className:\"ud-muted\",children:user.role===\"student\"?\"Student\":user.role===\"employer\"?\"Employer\":user.role})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ud-status\",style:badgeStyle(user.status),children:user.status})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ud-section-title\",children:\"Account Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ud-info-box\",children:[/*#__PURE__*/_jsx(InfoRow,{label:\"User ID\",value:user.id}),/*#__PURE__*/_jsx(InfoRow,{label:\"Email\",value:user.email}),/*#__PURE__*/_jsx(InfoRow,{label:\"Role\",value:user.role}),/*#__PURE__*/_jsx(InfoRow,{label:\"Status\",value:user.status}),/*#__PURE__*/_jsx(InfoRow,{label:\"Created At\",value:formatDateTime(user.created_at)}),/*#__PURE__*/_jsx(InfoRow,{label:\"Updated At\",value:formatDateTime(user.updated_at)})]})]})]});}function InfoRow(_ref){let{label,value}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"ud-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"ud-label\",children:label}),/*#__PURE__*/_jsx(\"span\",{className:\"ud-value\",children:value||\"—\"})]});}function formatDateTime(d){if(!d)return\"—\";const dt=new Date(d);if(Number.isNaN(dt.getTime()))return d;return dt.toLocaleString();}","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","api","jsx","_jsx","jsxs","_jsxs","AdminUserDetails","id","navigate","user","setUser","loading","setLoading","loadUser","res","get","concat","data","err","console","error","badgeStyle","status","toLowerCase","background","color","style","padding","textAlign","children","onClick","className","name","role","InfoRow","label","value","email","formatDateTime","created_at","updated_at","_ref","d","dt","Date","Number","isNaN","getTime","toLocaleString"],"sources":["C:/Users/humai/Downloads/internlink-uaeA/internlink-uae/frontend/src/pages/AdminUserDetails.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport api from \"../lib/api\";\r\n\r\nexport default function AdminUserDetails() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const loadUser = async () => {\r\n      try {\r\n        // ✅ تأكدي أن عندك راوت في الباك إند: GET /api/admin/users/:id\r\n        const res = await api.get(`/api/admin/users/${id}`);\r\n        setUser(res.data || res);\r\n      } catch (err) {\r\n        console.error(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadUser();\r\n  }, [id]);\r\n\r\n  const badgeStyle = (status) => {\r\n    if (!status) return {};\r\n    switch (status.toLowerCase()) {\r\n      case \"approved\":\r\n      case \"active\":\r\n        return { background: \"#DCFCE7\", color: \"#166534\" };\r\n      case \"rejected\":\r\n      case \"blocked\":\r\n        return { background: \"#FEE2E2\", color: \"#991B1B\" };\r\n      case \"pending\":\r\n      default:\r\n        return { background: \"#FEF9C3\", color: \"#854D0E\" };\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ padding: \"40px\", textAlign: \"center\" }}>\r\n        Loading user details...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <div style={{ padding: \"40px\", textAlign: \"center\" }}>\r\n        <p>User not found.</p>\r\n        <button onClick={() => navigate(-1)}>Back</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"user-details-page\">\r\n      <style>{`\r\n        .user-details-page{\r\n          max-width: 900px;\r\n          margin: 30px auto;\r\n          padding: 0 16px 40px;\r\n          font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\";\r\n        }\r\n        .ud-header{\r\n          display:flex;\r\n          justify-content:space-between;\r\n          align-items:center;\r\n          margin-bottom:20px;\r\n        }\r\n        .ud-header h1{\r\n          font-size:24px;\r\n          font-weight:700;\r\n          margin:0;\r\n        }\r\n        .ud-back{\r\n          border:none;\r\n          background:none;\r\n          color:#1e3a8a;\r\n          cursor:pointer;\r\n          font-size:15px;\r\n        }\r\n        .ud-card{\r\n          background:#fff;\r\n          border-radius:16px;\r\n          padding:20px 22px 22px;\r\n          box-shadow:0 18px 45px rgba(15,23,42,.06);\r\n        }\r\n        .ud-top{\r\n          display:flex;\r\n          justify-content:space-between;\r\n          align-items:center;\r\n          margin-bottom:18px;\r\n          gap:12px;\r\n          flex-wrap:wrap;\r\n        }\r\n        .ud-name{\r\n          font-size:20px;\r\n          font-weight:600;\r\n          margin-bottom:4px;\r\n        }\r\n        .ud-muted{\r\n          color:#6b7280;\r\n          font-size:14px;\r\n        }\r\n        .ud-status{\r\n          padding:6px 14px;\r\n          border-radius:999px;\r\n          font-size:13px;\r\n          font-weight:600;\r\n        }\r\n        .ud-section-title{\r\n          margin-top:10px;\r\n          margin-bottom:8px;\r\n          font-size:16px;\r\n          font-weight:600;\r\n        }\r\n        .ud-info-box{\r\n          background:#f9fafb;\r\n          border-radius:12px;\r\n          border:1px solid #e5e7eb;\r\n          padding:10px 12px;\r\n        }\r\n        .ud-row{\r\n          display:flex;\r\n          justify-content:space-between;\r\n          gap:10px;\r\n          padding:6px 0;\r\n          border-bottom:1px dashed #e5e7eb;\r\n          font-size:14px;\r\n        }\r\n        .ud-row:last-child{\r\n          border-bottom:none;\r\n        }\r\n        .ud-label{\r\n          font-weight:600;\r\n          color:#374151;\r\n        }\r\n        .ud-value{\r\n          color:#111827;\r\n          text-align:right;\r\n        }\r\n      `}</style>\r\n\r\n      <div className=\"ud-header\">\r\n        <button className=\"ud-back\" onClick={() => navigate(-1)}>\r\n          ← Back\r\n        </button>\r\n        <h1>User Details</h1>\r\n      </div>\r\n\r\n      <div className=\"ud-card\">\r\n        <div className=\"ud-top\">\r\n          <div>\r\n            <div className=\"ud-name\">{user.name}</div>\r\n            <div className=\"ud-muted\">\r\n              {user.role === \"student\" ? \"Student\" :\r\n               user.role === \"employer\" ? \"Employer\" :\r\n               user.role}\r\n            </div>\r\n          </div>\r\n          <div className=\"ud-status\" style={badgeStyle(user.status)}>\r\n            {user.status}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"ud-section-title\">Account Info</div>\r\n        <div className=\"ud-info-box\">\r\n          <InfoRow label=\"User ID\" value={user.id} />\r\n          <InfoRow label=\"Email\" value={user.email} />\r\n          <InfoRow label=\"Role\" value={user.role} />\r\n          <InfoRow label=\"Status\" value={user.status} />\r\n          <InfoRow\r\n            label=\"Created At\"\r\n            value={formatDateTime(user.created_at)}\r\n          />\r\n          <InfoRow\r\n            label=\"Updated At\"\r\n            value={formatDateTime(user.updated_at)}\r\n          />\r\n        </div>\r\n\r\n        {/* تقدرين تضيفين معلومات إضافية لو عندك أعمدة ثانية في الجدول */}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction InfoRow({ label, value }) {\r\n  return (\r\n    <div className=\"ud-row\">\r\n      <span className=\"ud-label\">{label}</span>\r\n      <span className=\"ud-value\">{value || \"—\"}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction formatDateTime(d) {\r\n  if (!d) return \"—\";\r\n  const dt = new Date(d);\r\n  if (Number.isNaN(dt.getTime())) return d;\r\n  return dt.toLocaleString();\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}